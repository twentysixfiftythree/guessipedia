{"ast":null,"code":"var _jsxFileName = \"/Users/reecefuller/Documents/guess-ui-draft/src/components/AutoComplete.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from \"react\";\nimport AsyncSelect from \"react-select/async\";\nimport { GuessStatus } from \"./GuessStatus\";\n//returns a JSON object of all the wiki names fetched from the backend\n//I think this can be done in a much simpler way\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LoadWikis() {\n  _s();\n  const [wikis, setWikis] = React.useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/wikis/get-page-data/\").then(response => {\n      setMessage(response.data.title);\n      setSurroundingTitles(JSON.parse(response.data.surrounding_titles));\n      setCategories(JSON.parse(response.data.categories));\n      console.log(response.data.categories);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  React.useEffect(() => {\n    fetch(\"/get_wiki_name\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json().then(data => {\n      //console.log(data);\n      setWikis(data.wikis);\n    }));\n  }, []);\n  return wikis;\n}\n\n//creates an autocomplete bar for the wiki names\n_s(LoadWikis, \"3YwYqckRAntif6uhJr92EYjcezg=\");\n_c = LoadWikis;\nexport const AutoCompleteBar = props => {\n  _s2();\n  //let options = LoadWikis();\n  const options = LoadWikis();\n  const [guessData, setGuessData] = React.useState(null);\n  const [hasInput, setHasInput] = React.useState(false);\n  const [color, setColor] = React.useState(\"#212529\");\n  const customStyles = {\n    control: provided => ({\n      ...provided,\n      backgroundColor: color\n    }),\n    menu: provided => ({\n      ...provided,\n      backgroundColor: \"#212529\"\n    }),\n    option: (provided, state) => ({\n      ...provided,\n      color: \"white\",\n      backgroundColor: \"#212529\"\n    }),\n    singleValue: provided => ({\n      ...provided,\n      color: \"white\"\n    }),\n    input: provided => ({\n      ...provided,\n      color: \"white\"\n    })\n  };\n  const handleChange = selectedOption => {\n    console.log(\"handleChange\", selectedOption);\n    fetch(\"/check_wiki\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        wiki: selectedOption.label\n      })\n    }).then(response => {\n      response.json().then(data => {\n        console.log(\"data_sent = \", data.guess);\n        setHasInput(true);\n        setGuessData(data.guess);\n        setColor(data.guess === 0 ? \"#851902\" : \"green\");\n      });\n    });\n  };\n  const loadOptions = (searchValue, callback) => {\n    setTimeout(() => {\n      const filteredOptions = options.filter(option => option.label.toLowerCase().startsWith(searchValue.toLowerCase()));\n      console.log(\"loadOptions\", searchValue, filteredOptions);\n      console.log(\"options\", options);\n      callback(filteredOptions);\n    }, 0);\n  };\n  React.useEffect(() => {\n    if (hasInput) {\n      const timer = setTimeout(() => {\n        setColor(\"#212529\");\n      }, 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [hasInput, guessData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [hasInput ? /*#__PURE__*/_jsxDEV(GuessStatus, {\n      guess: guessData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(AsyncSelect, {\n      loadOptions: loadOptions,\n      onChange: handleChange,\n      styles: customStyles,\n      placeholder: \"Search for a wiki\",\n      noOptionsMessage: () => \"No wikis found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s2(AutoCompleteBar, \"0Da1ctHFbSeiT0/HRbMbG/QtyMA=\");\n_c2 = AutoCompleteBar;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoadWikis\");\n$RefreshReg$(_c2, \"AutoCompleteBar\");","map":{"version":3,"names":["React","AsyncSelect","GuessStatus","jsxDEV","_jsxDEV","Fragment","_Fragment","LoadWikis","_s","wikis","setWikis","useState","useEffect","axios","get","then","response","setMessage","data","title","setSurroundingTitles","JSON","parse","surrounding_titles","setCategories","categories","console","log","catch","error","fetch","method","headers","json","_c","AutoCompleteBar","props","_s2","options","guessData","setGuessData","hasInput","setHasInput","color","setColor","customStyles","control","provided","backgroundColor","menu","option","state","singleValue","input","handleChange","selectedOption","body","stringify","wiki","label","guess","loadOptions","searchValue","callback","setTimeout","filteredOptions","filter","toLowerCase","startsWith","timer","clearTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","styles","placeholder","noOptionsMessage","_c2","$RefreshReg$"],"sources":["/Users/reecefuller/Documents/guess-ui-draft/src/components/AutoComplete.jsx"],"sourcesContent":["import React from \"react\";\nimport AsyncSelect from \"react-select/async\";\nimport { GuessStatus } from \"./GuessStatus\";\n//returns a JSON object of all the wiki names fetched from the backend\n//I think this can be done in a much simpler way\nfunction LoadWikis() {\n  const [wikis, setWikis] = React.useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8000/wikis/get-page-data/\")\n      .then((response) => {\n        setMessage(response.data.title);\n\n        setSurroundingTitles(JSON.parse(response.data.surrounding_titles));\n\n        setCategories(JSON.parse(response.data.categories));\n\n        console.log(response.data.categories);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n  React.useEffect(() => {\n    fetch(\"/get_wiki_name\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((response) =>\n      response.json().then((data) => {\n        //console.log(data);\n        setWikis(data.wikis);\n      })\n    );\n  }, []);\n  return wikis;\n}\n\n//creates an autocomplete bar for the wiki names\nexport const AutoCompleteBar = (props) => {\n  //let options = LoadWikis();\n  const options = LoadWikis();\n  const [guessData, setGuessData] = React.useState(null);\n  const [hasInput, setHasInput] = React.useState(false);\n  const [color, setColor] = React.useState(\"#212529\");\n\n  const customStyles = {\n    control: (provided) => ({\n      ...provided,\n      backgroundColor: color,\n    }),\n    menu: (provided) => ({\n      ...provided,\n      backgroundColor: \"#212529\",\n    }),\n    option: (provided, state) => ({\n      ...provided,\n      color: \"white\",\n      backgroundColor: \"#212529\",\n    }),\n    singleValue: (provided) => ({\n      ...provided,\n      color: \"white\",\n    }),\n    input: (provided) => ({\n      ...provided,\n      color: \"white\",\n    }),\n  };\n\n  const handleChange = (selectedOption) => {\n    console.log(\"handleChange\", selectedOption);\n    fetch(\"/check_wiki\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ wiki: selectedOption.label }),\n    }).then((response) => {\n      response.json().then((data) => {\n        console.log(\"data_sent = \", data.guess);\n        setHasInput(true);\n        setGuessData(data.guess);\n        setColor(data.guess === 0 ? \"#851902\" : \"green\");\n      });\n    });\n  };\n  const loadOptions = (searchValue, callback) => {\n    setTimeout(() => {\n      const filteredOptions = options.filter((option) =>\n        option.label.toLowerCase().startsWith(searchValue.toLowerCase())\n      );\n      console.log(\"loadOptions\", searchValue, filteredOptions);\n      console.log(\"options\", options);\n      callback(filteredOptions);\n    }, 0);\n  };\n\n  React.useEffect(() => {\n    if (hasInput) {\n      const timer = setTimeout(() => {\n        setColor(\"#212529\");\n      }, 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [hasInput, guessData]);\n\n  return (\n    <>\n      {hasInput ? <GuessStatus guess={guessData} /> : null}\n      <AsyncSelect\n        loadOptions={loadOptions}\n        onChange={handleChange}\n        styles={customStyles}\n        placeholder=\"Search for a wiki\"\n        noOptionsMessage={() => \"No wikis found\"}\n      />\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}